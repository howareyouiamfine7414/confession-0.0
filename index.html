<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>0.0</title>
  <meta name="description" content="äº’å‹•å°è¦–çª—ï¼ˆç´”åŸç”ŸJSï¼Œå«ç¦®ç‰©æ­æ›‰ç‰¹æ•ˆï¼‰ã€‚" />
  <link rel="icon" href="data:," />
  <style>
    :root{
      --bg1:#f5e1ff; --bg2:#fde3f1; --card:rgba(255,255,255,.92);
      --text:#111827; --sub:#6b7280; --border:#e9d5ff; --accent:#a21caf;
    }
    html,body{height:100%;margin:0}
    body{
      min-height:100%;
      background:linear-gradient(180deg,var(--bg1),var(--bg2),#fff);
      display:flex;align-items:center;justify-content:center;padding:24px;
      font-family:ui-sans-serif,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
    }
    .card{width:min(640px,92vw);background:var(--card);border:1px solid var(--border);
      border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.08);padding:22px}
    h1{font-size:22px;margin:6px 0 0;line-height:1.35}
    .options{margin-top:16px;display:grid;gap:10px}
    .btn{text-align:left;border:1px solid var(--border);background:#fff;border-radius:12px;
      padding:12px 14px;font-weight:600;cursor:pointer;transition:transform .06s, box-shadow .12s}
    .btn:hover{transform:translateY(-1px);box-shadow:0 8px 16px rgba(162,28,175,.12)}
    .msg{margin-top:12px;text-align:center;color:var(--sub);font-size:14px}
    .end{text-align:center}
    .heart{font-size:28px}
    .giftTip{margin:6px 0 8px;font-size:13px;color:var(--sub)}
    /* ä¿®æ­£åœ–ç‰‡æ¯”ä¾‹èˆ‡æœ€å¤§å¯¬åº¦ï¼Œé¿å…æ­ªæ‰ */
    .giftImg{
      max-height:360px;
      max-width:90%;
      width:auto;
      height:auto;
      display:block;
      margin:0 auto;
      border-radius:12px;
      border:1px solid var(--border);
      object-fit:contain;
      filter:blur(6px);
      transform:scale(.92);
      transition:filter .25s, transform .25s;
      cursor:pointer
    }
    .giftImg.revealed{filter:blur(0);transform:scale(1);cursor:default}
  </style>
</head>
<body>
  <div class="card" id="app"><!-- å…§å®¹ç”± JS æ³¨å…¥ --></div>

  <script>
    // ====== å…§å®¹è…³æœ¬ ======
    const flow = [
      { id:1, q:"ç¬¬ä¸€é¡Œï¼šä½ æ˜ŸæœŸäº”è¦è·Ÿæˆ‘å‡ºå»å—ï¼Ÿ",
        opts:[
          { id:"1a", label:"å¥½ï¼Œæˆ‘é¡˜æ„", next:2 },
          { id:"1b", label:"å†çœ‹çœ‹", result:":(" },
        ] },
      { id:2, q:"ç¬¬äºŒé¡Œï¼šé‚£ä½ æ˜ŸæœŸäº”æ™šä¸Šè¦è·Ÿæˆ‘ä¸€èµ·ç¡è¦ºå—ï¼Ÿ",
        opts:[
          { id:"2a", label:"å¥½ ><", next:3 },
          { id:"2b", label:"ä¸è¡Œï¼Œæˆ‘åª½åª½æœƒç”Ÿæ°£ã€‚", result:":(" },
        ] },
      { id:3, q:"ç¬¬ä¸‰é¡Œï¼šé‚£ä½ è¦å¸¶å¹¾å€‹å¥—å¥—ï¼Ÿ",
        opts:[
          { id:"3a", label:"4å€‹ä»¥ä¸Š", next:4 },
          { id:"3b", label:"å…¶ä»–", result:"å¤ªå°‘äº†ï¼Œå†çµ¦ä½ ä¸€æ¬¡æ©Ÿæœƒã€‚", next:3 },
        ] },
      { id:4, q:"ç¬¬å››é¡Œï¼šé‚£ä½ å–œæ­¡æˆ‘å—ï¼Ÿ",
        opts:[
          { id:"4a", label:"å¾ˆå–œç¿»", result:"æˆ‘ä¹Ÿæ˜¯", next:5 },
          { id:"4b", label:"ä¸å¤ªç¢ºå®šï¼Œå¯èƒ½è¦å†è§€å¯Ÿä¸€ä¸‹", result:"å¥½ã„…QQ" },
          { id:"4c", label:"ä¸å–œç¿»", result:"å¯æƒ¡" },
        ] },
      { id:5, q:"ç¬¬äº”é¡Œï¼šé‚£ä½ è¦è·Ÿæˆ‘äº¤å¾€å—ï¼Ÿ",
        opts:[
          { id:"5a", label:"å¥½", result:"0.0 <3 <3 <3", next:6 },
          { id:"5b", label:"ä¸å¥½", result:"GAMEOVER" },
          { id:"5c", label:"æˆ‘å†æƒ³æƒ³", result:"GAMEOVER" },
        ] },
      { id:6, q:"ç¬¬å…­é¡Œï¼šé€ä½ ä¸€å€‹ç¦®ç‰©ï¼",
        opts:[
          { id:"6a", label:"æ˜¯ä»€éº¼ï¼ï¼ï¼ï¼Ÿï¼Ÿï¼Ÿ", result:"ğŸ çœ‹çœ‹é€™å€‹ï¼", giftNow:true },
          { id:"6b", label:"ä¸æƒ³çŸ¥é“", result:"ç®¡ä½ çš„ ğŸ˜¤", giftDelay:1000 },
        ] },
    ];

    // åœ–ç‰‡ä¾†æºï¼šä¸Šå‚³ sagami.png åˆ° repo æ ¹ç›®éŒ„ï¼Œæˆ–æ”¹æˆ Base64 data URL
    const GIFT_SRC = "./sagami.png"; // ä¹Ÿå¯æ”¹æˆ "data:image/png;base64,...."

    const el = (tag, cls, text) => { const x = document.createElement(tag); if (cls) x.className = cls; if (text) x.textContent = text; return x; };
    const app = document.getElementById('app');

    let currentId = 1, resultMsg = null, pendingNext, finished = false, showGift = false, giftRevealed = false;

    function render(){
      app.innerHTML = '';
      const step = flow.find(s => s.id === currentId);
      if (!finished && step){
        app.appendChild(el('h1', null, step.q));
        const box = el('div', 'options');
        step.opts.forEach(opt => {
          const b = el('button','btn'); b.innerHTML = `<div>${opt.label}</div>`;
          b.onclick = () => handleOption(opt);
          box.appendChild(b);
        });
        app.appendChild(box);
        if (resultMsg) app.appendChild(el('div','msg',resultMsg));
        return;
      }
      const end = el('div','end');
      if (!showGift){
        end.appendChild(el('div','heart','ğŸ’Œ'));
        if (resultMsg) end.appendChild(el('div','msg',resultMsg));
        end.appendChild(el('div','msg','è¬è¬ä½ çš„å›ç­”ï¼'));
        app.appendChild(end);
      }else{
        end.appendChild(el('div','giftTip','ğŸ‘‰ å†é»æ“Šåœ–ç‰‡ä¸€æ¬¡'));
        const img = new Image();
        img.src = GIFT_SRC; img.alt = "gift";
        img.className = 'giftImg' + (giftRevealed ? ' revealed':'');
        img.onclick = () => { if (!giftRevealed){ giftRevealed = true; img.classList.add('revealed'); } };
        app.appendChild(end);
        end.appendChild(img);
      }
    }

    function handleOption(opt){
      resultMsg = opt.result || null;
      if (typeof opt.next === 'number'){
        pendingNext = opt.next;
        if (!opt.result){
          currentId = opt.next;
          pendingNext = undefined;
          render();
          return;
        }
        // â˜… ä¿®æ­£ï¼šå…ˆ render é¡¯ç¤º resultï¼Œå†ç­‰ 1.2s è·³é¡Œ
        render();
        setTimeout(()=>{
          resultMsg = null;
          currentId = pendingNext;
          pendingNext = undefined;
          render();
        }, 1200);
      }else{
        if (opt.giftNow){
          finished = true; showGift = true; giftRevealed = false;
          setTimeout(()=>{ resultMsg=null; render(); }, 800);
          render(); return;
        }
        if (opt.giftDelay){
          finished=true; showGift=false; giftRevealed=false;
          render();
          setTimeout(()=>{ showGift=true; render(); }, opt.giftDelay);
          return;
        }
        if (!opt.result) resultMsg = 'è¬è¬ä½ çš„å›è¦†ï¼';
        finished = true; showGift = false; render();
      }
    }

    render();
  </script>
</body>
</html>


