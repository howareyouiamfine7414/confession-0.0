<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>0.0</title>
  <meta name="description" content="‰∫íÂãïÂ∞èË¶ñÁ™óÔºàÁ¥îÂéüÁîüJSÔºåÂê´Á¶ÆÁâ©Êè≠ÊõâÁâπÊïàÔºâ„ÄÇ" />
  <link rel="icon" href="data:," />
  <style>
    :root{
      --bg1:#f5e1ff; --bg2:#fde3f1; --card:rgba(255,255,255,.92);
      --text:#111827; --sub:#6b7280; --border:#e9d5ff; --accent:#a21caf;
    }
    html,body{height:100%;margin:0}
    body{
      min-height:100%;
      background:linear-gradient(180deg,var(--bg1),var(--bg2),#fff);
      display:flex;align-items:center;justify-content:center;padding:24px;
      font-family:ui-sans-serif,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
    }
    .card{width:min(640px,92vw);background:var(--card);border:1px solid var(--border);
      border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.08);padding:22px}
    h1{font-size:22px;margin:6px 0 0;line-height:1.35}
    .options{margin-top:16px;display:grid;gap:10px}
    .btn{text-align:left;border:1px solid var(--border);background:#fff;border-radius:12px;
      padding:12px 14px;font-weight:600;cursor:pointer;transition:transform .06s, box-shadow .12s}
    .btn:hover{transform:translateY(-1px);box-shadow:0 8px 16px rgba(162,28,175,.12)}
    .msg{margin-top:12px;text-align:center;color:var(--sub);font-size:14px}
    .end{text-align:center}
    .heart{font-size:28px}
    .giftTip{margin:6px 0 8px;font-size:13px;color:var(--sub)}
    .giftImg{max-height:360px;width:auto;display:block;margin:0 auto;border-radius:12px;border:1px solid var(--border);
      filter:blur(6px);transform:scale(.92);transition:filter .25s, transform .25s;cursor:pointer}
    .giftImg.revealed{filter:blur(0);transform:scale(1);cursor:default}
  </style>
</head>
<body>
  <div class="card" id="app"><!-- ÂÖßÂÆπÁî± JS Ê≥®ÂÖ• --></div>

  <script>
    // ====== ÂÖßÂÆπËÖ≥Êú¨ ======
    const flow = [
      { id:1, q:"Á¨¨‰∏ÄÈ°åÔºö‰Ω†ÊòüÊúü‰∫îË¶ÅË∑üÊàëÂá∫ÂéªÂóéÔºü",
        opts:[
          { id:"1a", label:"Â•ΩÔºåÊàëÈ°òÊÑè", next:2 },
          { id:"1b", label:"ÂÜçÁúãÁúã", result:":(" },
        ] },
      { id:2, q:"Á¨¨‰∫åÈ°åÔºöÈÇ£‰Ω†ÊòüÊúü‰∫îÊôö‰∏äË¶ÅË∑üÊàë‰∏ÄËµ∑Áù°Ë¶∫ÂóéÔºü",
        opts:[
          { id:"2a", label:"Â•Ω ><", next:3 },
          { id:"2b", label:"‰∏çË°åÔºåÊàëÂ™ΩÂ™ΩÊúÉÁîüÊ∞£„ÄÇ", result:":(" },
        ] },
      { id:3, q:"Á¨¨‰∏âÈ°åÔºöÈÇ£‰Ω†Ë¶ÅÂ∏∂ÂπæÂÄãÂ•óÂ•óÔºü",
        opts:[
          { id:"3a", label:"4ÂÄã‰ª•‰∏ä", next:4 },
          { id:"3b", label:"ÂÖ∂‰ªñ", result:"Â§™Â∞ë‰∫ÜÔºåÂÜçÁµ¶‰Ω†‰∏ÄÊ¨°Ê©üÊúÉ„ÄÇ", next:3 },
        ] },
      { id:4, q:"Á¨¨ÂõõÈ°åÔºöÈÇ£‰Ω†ÂñúÊ≠°ÊàëÂóéÔºü",
        opts:[
          { id:"4a", label:"ÂæàÂñúÁøª", result:"Êàë‰πüÊòØ", next:5 },
          { id:"4b", label:"‰∏çÂ§™Á¢∫ÂÆöÔºåÂèØËÉΩË¶ÅÂÜçËßÄÂØü‰∏Ä‰∏ã", result:"Â•Ω„ÑÖQQ" },
          { id:"4c", label:"‰∏çÂñúÁøª", result:"ÂèØÊÉ°" },
        ] },
      { id:5, q:"Á¨¨‰∫îÈ°åÔºöÈÇ£‰Ω†Ë¶ÅË∑üÊàë‰∫§ÂæÄÂóéÔºü",
        opts:[
          { id:"5a", label:"Â•Ω", result:"0.0 <3 <3 <3", next:6 },
          { id:"5b", label:"‰∏çÂ•Ω", result:"GAMEOVER" },
          { id:"5c", label:"ÊàëÂÜçÊÉ≥ÊÉ≥", result:"GAMEOVER" },
        ] },
      { id:6, q:"Á¨¨ÂÖ≠È°åÔºöÈÄÅ‰Ω†‰∏ÄÂÄãÁ¶ÆÁâ©ÔºÅ",
        opts:[
          { id:"6a", label:"ÊòØ‰ªÄÈ∫ºÔºÅÔºÅÔºÅÔºüÔºüÔºü", result:"üéÅ ÁúãÁúãÈÄôÂÄãÔºÅ", giftNow:true },
          { id:"6b", label:"‰∏çÊÉ≥Áü•ÈÅì", result:"ÁÆ°‰Ω†ÁöÑ üò§", giftDelay:1000 },
        ] },
    ];

    // Â¶ÇÊûú‰Ω†Ë¶ÅÁî® Base64 ÂÖßÂµåÂúñÔºåÊää‰∏ã‰∏ÄË°åÊîπÊàêÔºöconst GIFT_SRC = "data:image/png;base64,....";
    // È†êË®≠Áî® repo Ê†πÁõÆÈåÑÁöÑ sagami.png ÔºàË´ã‰∏äÂÇ≥ÂúñÁâáÊ™îÔºâ
    const GIFT_SRC = "./sagami.png"; // ÊàñÊîπÊàê data:image/png;base64,... ÔºàÂæûËàäÁâà index.html Ë§áË£ΩÔºâ

    const el = (tag, cls, text) => { const x = document.createElement(tag); if (cls) x.className = cls; if (text) x.textContent = text; return x; };
    const app = document.getElementById('app');

    let currentId = 1, resultMsg = null, pendingNext, finished = false, showGift = false, giftRevealed = false;

    function render(){
      app.innerHTML = '';
      const step = flow.find(s => s.id === currentId);
      if (!finished && step){
        app.appendChild(el('h1', null, step.q));
        const box = el('div', 'options');
        step.opts.forEach(opt => {
          const b = el('button','btn'); b.innerHTML = `<div>${opt.label}</div>`;
          b.onclick = () => handleOption(opt, step);
          box.appendChild(b);
        });
        app.appendChild(box);
        if (resultMsg) app.appendChild(el('div','msg',resultMsg));
        return;
      }
      const end = el('div','end');
      if (!showGift){
        end.appendChild(el('div','heart','üíå'));
        if (resultMsg) end.appendChild(el('div','msg',resultMsg));
        end.appendChild(el('div','msg','Ë¨ùË¨ù‰Ω†ÁöÑÂõûÁ≠îÔºÅ'));
        app.appendChild(end);
      }else{
        end.appendChild(el('div','giftTip','üëâ ÂÜçÈªûÊìäÂúñÁâá‰∏ÄÊ¨°'));
        const img = new Image();
        img.src = GIFT_SRC; img.alt = "gift";
        img.className = 'giftImg' + (giftRevealed ? ' revealed':'');
        img.onclick = () => { if (!giftRevealed){ giftRevealed = true; img.classList.add('revealed'); } };
        end.appendChild(img); app.appendChild(end);
      }
    }

    function handleOption(opt){
      resultMsg = opt.result || null;
      if (typeof opt.next === 'number'){
        pendingNext = opt.next;
        if (!opt.result){ currentId = opt.next; pendingNext = undefined; render(); return; }
        setTimeout(()=>{ resultMsg=null; currentId=pendingNext; pendingNext=undefined; render(); }, 1200);
      }else{
        if (opt.giftNow){ finished = true; showGift = true; giftRevealed = false; setTimeout(()=>{ resultMsg=null; render(); }, 800); render(); return; }
        if (opt.giftDelay){ finished=true; showGift=false; giftRevealed=false; render(); setTimeout(()=>{ showGift=true; render(); }, opt.giftDelay); return; }
        if (!opt.result) resultMsg = 'Ë¨ùË¨ù‰Ω†ÁöÑÂõûË¶ÜÔºÅ';
        finished = true; showGift = false; render();
      }
    }

    render();
  </script>
</body>
</html>

